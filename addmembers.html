<!DOCTYPE html>
<html>

<head>
    <title>iChurch</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
        </script>
</head>

<body>
    <div class="container mt-5">
        <h2>Add Member Details</h2>
        <br>

        <form id="addMemberForm">
            <div class="mb-3">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" class="form-control" id="firstName" name="firstName" required>
            </div>
            <div class="mb-3">
                <label for="middleName" class="form-label">Middle Name</label>
                <input type="text" class="form-control" id="middleName" name="middleName" required>
            </div>
            <div class="mb-3">
                <label for="sirName" class="form-label">Surname</label>
                <input type="text" class="form-control" id="sirName" name="sirName" required>
            </div>
            <div class="mb-3">
                <label for="dob" class="form-label">Date of Birth</label> <input type="date" class="form-control"
                    id="dob" name="dob" required>
            </div>
            <div class="mb-3">
                <label for="nameOfMother" class="form-label">Name of Mother</label>
                <input type="text" class="form-control" id="nameOfMother" name="nameOfMother" required>
            </div>
            <div class="mb-3">
                <label for="nameOfFather" class="form-label">Name of Father</label>
                <input type="text" class="form-control" id="nameOfFather" name="nameOfFather" required>
            </div>
            <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address" required>
            </div>
            <div class="mb-3">
                <label for="birthPlace" class="form-label">Birth Place</label>
                <input type="text" class="form-control" id="birthPlace" name="birthPlace" required>
            </div>
            <div class="mb-3">
                <label for="contactNo" class="form-label">Contact Number</label>
                <input type="text" class="form-control" id="contactNo" name="contactNo" required>
            </div>
            <div class="mb-3">
                <label for="marriedDate" class="form-label">Marriage Date</label>
                <input type="date" class="form-control" id="marriedDate" name="marriedDate">
            </div>
            <div class="mb-3">
                <label for="marriedChurch" class="form-label">Married Church</label>
                <input type="text" class="form-control" id="marriedChurch" name="marriedChurch">
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

</body>

<script src="index.js"></script>
<script>
    $(document).ready(function () {
        $('#addMemberForm').submit(function (event) {
            event.preventDefault(); // Prevent the default form submission 
            // Serialize form data 
            let formData = {
                firstName: $('#firstName').val(),
                middleName: $('#middleName').val(),
                sirName: $('#sirName').val(),
                dob: $('#dob').val(),
                nameOfMother: $('#nameOfMother').val(),
                nameOfFather: $('#nameOfFather').val(),
                address: $('#address').val(),
                birthPlace: $('#birthPlace').val(),
                contactNo: $('#contactNo').val(),
                marriedDate: $('#marriedDate').val(),
                marriedChurch: $('#marriedChurch').val()

            };
            // Send the POST request 
            $.post('http://localhost:3000/member-registration/create', formData, function (response) {
                // Handle the response from the server 
                alert('Member added successfully!'); // Clear the form after successful submission 
                $('#addMemberForm')[0].reset();
            }).fail(function (error) {
                // Handle any errors 
                alert('Error adding member: ' + error.responseText);
            });
        });
    });
</script>

</html>