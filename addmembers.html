<!DOCTYPE html>
<html>

<head>
    <title>iChurch</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous">
        </script>

    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMH8lA5ICVdE1hi2Fd7mYpkMRf1Kh5U8a2y/4Rw" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        integrity="sha384-5e2ESR8Ycmos6g3gAKr1Jvwye8sW4U1u/cAKulfVJnkakCcMqhOudbtPnvJ+nbv7" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha384-7N9uWyfrDHXbDlwtQoLvZR7TvJMPvLlgKbiv3v6eRsnzWFHzmFQRRtKsb6c0S23O" crossorigin="anonymous"> -->

</head>

<body style="background-color: #bed7ec;">
    <div class="container mt-5">
        <div class="row mt-3">
            <div class="col-4">
                <h1>Add Member Details</h1>
            </div>

            <div class="col-4">
                <button id="backToMemberList" class="btn btn-info mb-3">Back to Member List</button>
            </div>
        </div>

        <br>

        <form id="addMemberForm" class="border border-2 border-secondary rounded p-3"
            style="background-color: rgba(222, 217, 217, 0.922);">
            <div class="row mt-2">
                <div class="pb-3 col-4">
                    <label for="firstName" class="form-label">First Name</label>
                    <input type="text" class="form-control" id="firstName" name="firstName" required>
                </div>

                <div class="pb-3 col-4">
                    <label for="middleName" class="form-label">Middle Name</label>
                    <input type="text" class="form-control" id="middleName" name="middleName">
                </div>

                <div class="pb-3 col-4">
                    <label for="sirName" class="form-label">Surname</label>
                    <input type="text" class="form-control" id="sirName" name="sirName" required>
                </div>
            </div>

            <div class="row">
                <div class="col-4 pb-3">
                    <label for="nameOfMother" class="form-label">Name of Mother</label>
                    <input type="text" class="form-control" id="nameOfMother" name="nameOfMother" required>
                </div>
                <div class="col-4 pb-3">
                    <label for="nameOfFather" class="form-label">Name of Father</label>
                    <input type="text" class="form-control" id="nameOfFather" name="nameOfFather" required>
                </div>

                <div class="col-4 pb-3">
                    <label for="birthPlace" class="form-label">Birth Place</label>
                    <input type="text" class="form-control" id="birthPlace" name="birthPlace" required>
                </div>
            </div>

            <div class="row">
                <div class="col-4 pb-3">
                    <label for="dob" class="form-label">Date of Birth</label> <input type="date" class="form-control"
                        id="dob" name="dob" required>
                </div>

                <div class="col-4 pb-3">
                    <label for="address" class="form-label">Address</label>
                    <input type="text" class="form-control" id="address" name="address" required>
                </div>

                <div class="col-4 pb-3">
                    <label for="contactNo" class="form-label">Contact Number</label>
                    <input type="text" class="form-control" id="contactNo" name="contactNo" maxlength="10"
                        pattern="\d{10}" title="Please enter a 10-digit number" required>
                </div>
            </div>

            <div class="row">
                <div class="col-6 mb-3">
                    <label for="marriedDate" class="form-label">Marriage Date</label>
                    <input type="date" class="form-control" id="marriedDate" name="marriedDate">
                </div>
                <div class="col-6 mb-3">
                    <label for="marriedChurch" class="form-label">Married Church</label>
                    <input type="text" class="form-control" id="marriedChurch" name="marriedChurch">
                </div>
            </div>

            <br><br>
            <button type="submit" class="btn btn-success w-100">Save</button>
        </form>
    </div>

    <script src="index.js"></script>
</body>

<script>
    $(document).ready(function () {
        $("#backToMemberList").click(function () {
            window.location.href = "members.html";
        });

        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const data = urlParams.get('data');

        if (data) {
            var decodedStringAtoB = atob(data);


            var memberData = JSON.parse(decodedStringAtoB); // Populate the form fields with the parsed data 
            $('#firstName').val(memberData.firstName);
            $('#middleName').val(memberData.middleName);
            $('#sirName').val(memberData.sirName);
            $('#dob').val(memberData.dob);
            $('#nameOfMother').val(memberData.nameOfMother);
            $('#nameOfFather').val(memberData.nameOfFather);
            $('#address').val(memberData.address);
            $('#birthPlace').val(memberData.birthPlace);
            $('#contactNo').val(memberData.contactNo);
            $('#marriedDate').val(memberData.marriedDate);
            $('#marriedChurch').val(memberData.marriedChurch);
        }

    });
</script>

</html>